!function(){for(var t,e=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=i.length,n=window.console=window.console||{};s--;)t=i[s],n[t]||(n[t]=e)}(),function(t){t.fn.hoverIntent=function(e,i,s){var n={interval:100,sensitivity:7,timeout:0};n="object"==typeof e?t.extend(n,e):t.isFunction(i)?t.extend(n,{over:e,out:i,selector:s}):t.extend(n,{over:e,out:e,selector:i});var r,a,o,l,c=function(t){r=t.pageX,a=t.pageY},h=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(o-r)+Math.abs(l-a)<n.sensitivity?(t(i).off("mousemove.hoverIntent",c),i.hoverIntent_s=1,n.over.apply(i,[e])):(o=r,l=a,i.hoverIntent_t=setTimeout(function(){h(e,i)},n.interval),void 0)},u=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,n.out.apply(e,[t])},d=function(e){var i=jQuery.extend({},e),s=this;s.hoverIntent_t&&(s.hoverIntent_t=clearTimeout(s.hoverIntent_t)),"mouseenter"==e.type?(o=i.pageX,l=i.pageY,t(s).on("mousemove.hoverIntent",c),1!=s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){h(i,s)},n.interval))):(t(s).off("mousemove.hoverIntent",c),1==s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){u(i,s)},n.timeout)))};return this.on({"mouseenter.hoverIntent":d,"mouseleave.hoverIntent":d},n.selector)}}(jQuery),function(t){t.flexslider=function(e,i){var s=t(e),n=t.extend({},t.flexslider.defaults,i),r=n.namespace,a="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,o=a?"touchend":"click",l="vertical"===n.direction,c=n.reverse,h=n.itemWidth>0,u="fade"===n.animation,d=""!==n.asNavFor,p={};t.data(e,"flexslider",s),p={init:function(){s.animating=!1,s.currentSlide=n.startAt,s.animatingTo=s.currentSlide,s.atEnd=0===s.currentSlide||s.currentSlide===s.last,s.containerSelector=n.selector.substr(0,n.selector.search(" ")),s.slides=t(n.selector,s),s.container=t(s.containerSelector,s),s.count=s.slides.length,s.syncExists=t(n.sync).length>0,"slide"===n.animation&&(n.animation="swing"),s.prop=l?"top":"marginLeft",s.args={},s.manualPause=!1,s.transitions=!n.video&&!u&&n.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return s.pfx=e[i].replace("Perspective","").toLowerCase(),s.prop="-"+s.pfx+"-transform",!0;return!1}(),""!==n.controlsContainer&&(s.controlsContainer=t(n.controlsContainer).length>0&&t(n.controlsContainer)),""!==n.manualControls&&(s.manualControls=t(n.manualControls).length>0&&t(n.manualControls)),n.randomize&&(s.slides.sort(function(){return Math.round(Math.random())-.5}),s.container.empty().append(s.slides)),s.doMath(),d&&p.asNav.setup(),s.setup("init"),n.controlNav&&p.controlNav.setup(),n.directionNav&&p.directionNav.setup(),n.keyboard&&(1===t(s.containerSelector).length||n.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!s.animating&&(39===e||37===e)){var i=39===e?s.getTarget("next"):37===e?s.getTarget("prev"):!1;s.flexAnimate(i,n.pauseOnAction)}}),n.mousewheel&&s.bind("mousewheel",function(t,e){t.preventDefault();var i=0>e?s.getTarget("next"):s.getTarget("prev");s.flexAnimate(i,n.pauseOnAction)}),n.pausePlay&&p.pausePlay.setup(),n.slideshow&&(n.pauseOnHover&&s.hover(function(){s.manualPlay||s.manualPause||s.pause()},function(){s.manualPause||s.manualPlay||s.play()}),n.initDelay>0?setTimeout(s.play,n.initDelay):s.play()),a&&n.touch&&p.touch(),(!u||u&&n.smoothHeight)&&t(window).bind("resize focus",p.resize),setTimeout(function(){n.start(s)},200)},asNav:{setup:function(){s.asNav=!0,s.animatingTo=Math.floor(s.currentSlide/s.move),s.currentItem=s.currentSlide,s.slides.removeClass(r+"active-slide").eq(s.currentItem).addClass(r+"active-slide"),s.slides.click(function(e){e.preventDefault();var i=t(this),r=i.index();t(n.asNavFor).data("flexslider").animating||i.hasClass("active")||(s.direction=s.currentItem<r?"next":"prev",s.flexAnimate(r,n.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){s.manualControls?p.controlNav.setupManual():p.controlNav.setupPaging()},setupPaging:function(){var e,i="thumbnails"===n.controlNav?"control-thumbs":"control-paging",l=1;if(s.controlNavScaffold=t('<ol class="'+r+"control-nav "+r+i+'"></ol>'),s.pagingCount>1)for(var c=0;c<s.pagingCount;c++)e="thumbnails"===n.controlNav?'<img src="'+s.slides.eq(c).attr("data-thumb")+'"/>':"<a>"+l+"</a>",s.controlNavScaffold.append("<li>"+e+"</li>"),l++;s.controlsContainer?t(s.controlsContainer).append(s.controlNavScaffold):s.append(s.controlNavScaffold),p.controlNav.set(),p.controlNav.active(),s.controlNavScaffold.delegate("a, img",o,function(e){e.preventDefault();var i=t(this),a=s.controlNav.index(i);i.hasClass(r+"active")||(s.direction=a>s.currentSlide?"next":"prev",s.flexAnimate(a,n.pauseOnAction))}),a&&s.controlNavScaffold.delegate("a","click touchstart",function(t){t.preventDefault()})},setupManual:function(){s.controlNav=s.manualControls,p.controlNav.active(),s.controlNav.live(o,function(e){e.preventDefault();var i=t(this),a=s.controlNav.index(i);i.hasClass(r+"active")||(s.direction=a>s.currentSlide?"next":"prev",s.flexAnimate(a,n.pauseOnAction))}),a&&s.controlNav.live("click touchstart",function(t){t.preventDefault()})},set:function(){var e="thumbnails"===n.controlNav?"img":"a";s.controlNav=t("."+r+"control-nav li "+e,s.controlsContainer?s.controlsContainer:s)},active:function(){s.controlNav.removeClass(r+"active").eq(s.animatingTo).addClass(r+"active")},update:function(e,i){s.pagingCount>1&&"add"===e?s.controlNavScaffold.append(t("<li><a>"+s.count+"</a></li>")):1===s.pagingCount?s.controlNavScaffold.find("li").remove():s.controlNav.eq(i).closest("li").remove(),p.controlNav.set(),s.pagingCount>1&&s.pagingCount!==s.controlNav.length?s.update(i,e):p.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+r+'direction-nav"><li><a class="'+r+'prev" href="#">'+n.prevText+'</a></li><li><a class="'+r+'next" href="#">'+n.nextText+"</a></li></ul>");s.controlsContainer?(t(s.controlsContainer).append(e),s.directionNav=t("."+r+"direction-nav li a",s.controlsContainer)):(s.append(e),s.directionNav=t("."+r+"direction-nav li a",s)),p.directionNav.update(),s.directionNav.bind(o,function(e){e.preventDefault();var i=t(this).hasClass(r+"next")?s.getTarget("next"):s.getTarget("prev");s.flexAnimate(i,n.pauseOnAction)}),a&&s.directionNav.bind("click touchstart",function(t){t.preventDefault()})},update:function(){var t=r+"disabled";1===s.pagingCount?s.directionNav.addClass(t):n.animationLoop?s.directionNav.removeClass(t):0===s.animatingTo?s.directionNav.removeClass(t).filter("."+r+"prev").addClass(t):s.animatingTo===s.last?s.directionNav.removeClass(t).filter("."+r+"next").addClass(t):s.directionNav.removeClass(t)}},pausePlay:{setup:function(){var e=t('<div class="'+r+'pauseplay"><a></a></div>');s.controlsContainer?(s.controlsContainer.append(e),s.pausePlay=t("."+r+"pauseplay a",s.controlsContainer)):(s.append(e),s.pausePlay=t("."+r+"pauseplay a",s)),p.pausePlay.update(n.slideshow?r+"pause":r+"play"),s.pausePlay.bind(o,function(e){e.preventDefault(),t(this).hasClass(r+"pause")?(s.manualPause=!0,s.manualPlay=!1,s.pause()):(s.manualPause=!1,s.manualPlay=!0,s.play())}),a&&s.pausePlay.bind("click touchstart",function(t){t.preventDefault()})},update:function(t){"play"===t?s.pausePlay.removeClass(r+"pause").addClass(r+"play").text(n.playText):s.pausePlay.removeClass(r+"play").addClass(r+"pause").text(n.pauseText)}},touch:function(){function t(t){s.animating?t.preventDefault():1===t.touches.length&&(s.pause(),p=l?s.h:s.w,_=Number(new Date),d=h&&c&&s.animatingTo===s.last?0:h&&c?s.limit-(s.itemW+n.itemMargin)*s.move*s.animatingTo:h&&s.currentSlide===s.last?s.limit:h?(s.itemW+n.itemMargin)*s.move*s.currentSlide:c?(s.last-s.currentSlide+s.cloneOffset)*p:(s.currentSlide+s.cloneOffset)*p,a=l?t.touches[0].pageY:t.touches[0].pageX,o=l?t.touches[0].pageX:t.touches[0].pageY,e.addEventListener("touchmove",i,!1),e.addEventListener("touchend",r,!1))}function i(t){f=l?a-t.touches[0].pageY:a-t.touches[0].pageX,m=l?Math.abs(f)<Math.abs(t.touches[0].pageX-o):Math.abs(f)<Math.abs(t.touches[0].pageY-o),(!m||Number(new Date)-_>500)&&(t.preventDefault(),!u&&s.transitions&&(n.animationLoop||(f/=0===s.currentSlide&&0>f||s.currentSlide===s.last&&f>0?Math.abs(f)/p+2:1),s.setProps(d+f,"setTouch")))}function r(){if(e.removeEventListener("touchmove",i,!1),s.animatingTo===s.currentSlide&&!m&&null!==f){var t=c?-f:f,l=t>0?s.getTarget("next"):s.getTarget("prev");s.canAdvance(l)&&(Number(new Date)-_<550&&Math.abs(t)>50||Math.abs(t)>p/2)?s.flexAnimate(l,n.pauseOnAction):u||s.flexAnimate(s.currentSlide,n.pauseOnAction,!0)}e.removeEventListener("touchend",r,!1),a=null,o=null,f=null,d=null}var a,o,d,p,f,_,m=!1;e.addEventListener("touchstart",t,!1)},resize:function(){!s.animating&&s.is(":visible")&&(h||s.doMath(),u?p.smoothHeight():h?(s.slides.width(s.computedW),s.update(s.pagingCount),s.setProps()):l?(s.viewport.height(s.h),s.setProps(s.h,"setTotal")):(n.smoothHeight&&p.smoothHeight(),s.newSlides.width(s.computedW),s.setProps(s.computedW,"setTotal")))},smoothHeight:function(t){if(!l||u){var e=u?s:s.viewport;t?e.animate({height:s.slides.eq(s.animatingTo).height()},t):e.height(s.slides.eq(s.animatingTo).height())}},sync:function(e){var i=t(n.sync).data("flexslider"),r=s.animatingTo;switch(e){case"animate":i.flexAnimate(r,n.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}}},s.flexAnimate=function(e,i,o,f,_){if(d&&1===s.pagingCount&&(s.direction=s.currentItem<e?"next":"prev"),!s.animating&&(s.canAdvance(e,_)||o)&&s.is(":visible")){if(d&&f){var m=t(n.asNavFor).data("flexslider");if(s.atEnd=0===e||e===s.count-1,m.flexAnimate(e,!0,!1,!0,_),s.direction=s.currentItem<e?"next":"prev",m.direction=s.direction,Math.ceil((e+1)/s.visible)-1===s.currentSlide||0===e)return s.currentItem=e,s.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),!1;s.currentItem=e,s.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),e=Math.floor(e/s.visible)}if(s.animating=!0,s.animatingTo=e,n.before(s),i&&s.pause(),s.syncExists&&!_&&p.sync("animate"),n.controlNav&&p.controlNav.active(),h||s.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),s.atEnd=0===e||e===s.last,n.directionNav&&p.directionNav.update(),e===s.last&&(n.end(s),n.animationLoop||s.pause()),u)a?(s.slides.eq(s.currentSlide).css({opacity:0,zIndex:1}),s.slides.eq(e).css({opacity:1,zIndex:2}),s.slides.unbind("webkitTransitionEnd transitionend"),s.slides.eq(s.currentSlide).bind("webkitTransitionEnd transitionend",function(){n.after(s)}),s.animating=!1,s.currentSlide=s.animatingTo):(s.slides.eq(s.currentSlide).fadeOut(n.animationSpeed,n.easing),s.slides.eq(e).fadeIn(n.animationSpeed,n.easing,s.wrapup));else{var g,v,y,b=l?s.slides.filter(":first").height():s.computedW;h?(g=n.itemWidth>s.w?2*n.itemMargin:n.itemMargin,y=(s.itemW+g)*s.move*s.animatingTo,v=y>s.limit&&1!==s.visible?s.limit:y):v=0===s.currentSlide&&e===s.count-1&&n.animationLoop&&"next"!==s.direction?c?(s.count+s.cloneOffset)*b:0:s.currentSlide===s.last&&0===e&&n.animationLoop&&"prev"!==s.direction?c?0:(s.count+1)*b:c?(s.count-1-e+s.cloneOffset)*b:(e+s.cloneOffset)*b,s.setProps(v,"",n.animationSpeed),s.transitions?(n.animationLoop&&s.atEnd||(s.animating=!1,s.currentSlide=s.animatingTo),s.container.unbind("webkitTransitionEnd transitionend"),s.container.bind("webkitTransitionEnd transitionend",function(){s.wrapup(b)})):s.container.animate(s.args,n.animationSpeed,n.easing,function(){s.wrapup(b)})}n.smoothHeight&&p.smoothHeight(n.animationSpeed)}},s.wrapup=function(t){u||h||(0===s.currentSlide&&s.animatingTo===s.last&&n.animationLoop?s.setProps(t,"jumpEnd"):s.currentSlide===s.last&&0===s.animatingTo&&n.animationLoop&&s.setProps(t,"jumpStart")),s.animating=!1,s.currentSlide=s.animatingTo,n.after(s)},s.animateSlides=function(){s.animating||s.flexAnimate(s.getTarget("next"))},s.pause=function(){clearInterval(s.animatedSlides),s.playing=!1,n.pausePlay&&p.pausePlay.update("play"),s.syncExists&&p.sync("pause")},s.play=function(){s.animatedSlides=setInterval(s.animateSlides,n.slideshowSpeed),s.playing=!0,n.pausePlay&&p.pausePlay.update("pause"),s.syncExists&&p.sync("play")},s.canAdvance=function(t,e){var i=d?s.pagingCount-1:s.last;return e?!0:d&&s.currentItem===s.count-1&&0===t&&"prev"===s.direction?!0:d&&0===s.currentItem&&t===s.pagingCount-1&&"next"!==s.direction?!1:t!==s.currentSlide||d?n.animationLoop?!0:s.atEnd&&0===s.currentSlide&&t===i&&"next"!==s.direction?!1:s.atEnd&&s.currentSlide===i&&0===t&&"next"===s.direction?!1:!0:!1},s.getTarget=function(t){return s.direction=t,"next"===t?s.currentSlide===s.last?0:s.currentSlide+1:0===s.currentSlide?s.last:s.currentSlide-1},s.setProps=function(t,e,i){var r=function(){var i=t?t:(s.itemW+n.itemMargin)*s.move*s.animatingTo,r=function(){if(h)return"setTouch"===e?t:c&&s.animatingTo===s.last?0:c?s.limit-(s.itemW+n.itemMargin)*s.move*s.animatingTo:s.animatingTo===s.last?s.limit:i;switch(e){case"setTotal":return c?(s.count-1-s.currentSlide+s.cloneOffset)*t:(s.currentSlide+s.cloneOffset)*t;case"setTouch":return c?t:t;case"jumpEnd":return c?t:s.count*t;case"jumpStart":return c?s.count*t:t;default:return t}}();return-1*r+"px"}();s.transitions&&(r=l?"translate3d(0,"+r+",0)":"translate3d("+r+",0,0)",i=void 0!==i?i/1e3+"s":"0s",s.container.css("-"+s.pfx+"-transition-duration",i)),s.args[s.prop]=r,(s.transitions||void 0===i)&&s.container.css(s.args)},s.setup=function(e){if(u)s.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(a?s.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.animationSpeed/1e3+"s ease",zIndex:1}).eq(s.currentSlide).css({opacity:1,zIndex:2}):s.slides.eq(s.currentSlide).fadeIn(n.animationSpeed,n.easing)),n.smoothHeight&&p.smoothHeight();else{var i,o;"init"===e&&(s.viewport=t('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(s).append(s.container),s.cloneCount=0,s.cloneOffset=0,c&&(o=t.makeArray(s.slides).reverse(),s.slides=t(o),s.container.empty().append(s.slides))),n.animationLoop&&!h&&(s.cloneCount=2,s.cloneOffset=1,"init"!==e&&s.container.find(".clone").remove(),s.container.append(s.slides.first().clone().addClass("clone")).prepend(s.slides.last().clone().addClass("clone"))),s.newSlides=t(n.selector,s),i=c?s.count-1-s.currentSlide+s.cloneOffset:s.currentSlide+s.cloneOffset,l&&!h?(s.container.height(200*(s.count+s.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){s.newSlides.css({display:"block"}),s.doMath(),s.viewport.height(s.h),s.setProps(i*s.h,"init")},"init"===e?100:0)):(s.container.width(200*(s.count+s.cloneCount)+"%"),s.setProps(i*s.computedW,"init"),setTimeout(function(){s.doMath(),s.newSlides.css({width:s.computedW,"float":"left",display:"block"}),n.smoothHeight&&p.smoothHeight()},"init"===e?100:0))}h||s.slides.removeClass(r+"active-slide").eq(s.currentSlide).addClass(r+"active-slide")},s.doMath=function(){var t=s.slides.first(),e=n.itemMargin,i=n.minItems,r=n.maxItems;s.w=s.width(),s.h=t.height(),s.boxPadding=t.outerWidth()-t.width(),h?(s.itemT=n.itemWidth+e,s.minW=i?i*s.itemT:s.w,s.maxW=r?r*s.itemT:s.w,s.itemW=s.minW>s.w?(s.w-e*i)/i:s.maxW<s.w?(s.w-e*r)/r:n.itemWidth>s.w?s.w:n.itemWidth,s.visible=Math.floor(s.w/(s.itemW+e)),s.move=n.move>0&&n.move<s.visible?n.move:s.visible,s.pagingCount=Math.ceil((s.count-s.visible)/s.move+1),s.last=s.pagingCount-1,s.limit=1===s.pagingCount?0:n.itemWidth>s.w?(s.itemW+2*e)*s.count-s.w-e:(s.itemW+e)*s.count-s.w-e):(s.itemW=s.w,s.pagingCount=s.count,s.last=s.count-1),s.computedW=s.itemW-s.boxPadding},s.update=function(t,e){s.doMath(),h||(t<s.currentSlide?s.currentSlide+=1:t<=s.currentSlide&&0!==t&&(s.currentSlide-=1),s.animatingTo=s.currentSlide),n.controlNav&&!s.manualControls&&("add"===e&&!h||s.pagingCount>s.controlNav.length?p.controlNav.update("add"):("remove"===e&&!h||s.pagingCount<s.controlNav.length)&&(h&&s.currentSlide>s.last&&(s.currentSlide-=1,s.animatingTo-=1),p.controlNav.update("remove",s.last))),n.directionNav&&p.directionNav.update()},s.addSlide=function(e,i){var r=t(e);s.count+=1,s.last=s.count-1,l&&c?void 0!==i?s.slides.eq(s.count-i).after(r):s.container.prepend(r):void 0!==i?s.slides.eq(i).before(r):s.container.append(r),s.update(i,"add"),s.slides=t(n.selector+":not(.clone)",s),s.setup(),n.added(s)},s.removeSlide=function(e){var i=isNaN(e)?s.slides.index(t(e)):e;s.count-=1,s.last=s.count-1,isNaN(e)?t(e,s.slides).remove():l&&c?s.slides.eq(s.last).remove():s.slides.eq(e).remove(),s.doMath(),s.update(i,"remove"),s.slides=t(n.selector+":not(.clone)",s),s.setup(),n.removed(s)},p.init()},t.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var i=t(this),s=e.selector?e.selector:".slides > li",n=i.find(s);1===n.length?(n.fadeIn(400),e.start&&e.start(i)):void 0==i.data("flexslider")&&new t.flexslider(this,e)});var i=t(this).data("flexslider");switch(e){case"play":i.play();break;case"pause":i.pause();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof e&&i.flexAnimate(e,!0)}}}(jQuery),"undefined"!=typeof jQuery&&!function(t){t.imgpreload=function(e,i){i=t.extend({},t.fn.imgpreload.defaults,i instanceof Function?{all:i}:i),"string"==typeof e&&(e=new Array(e));var s=new Array;t.each(e,function(n,r){var a=new Image,o=r,l=a;"string"!=typeof r&&(o=t(r).attr("src"),l=r),t(a).bind("load error",function(n){s.push(l),t.data(l,"loaded","error"==n.type?!1:!0),i.each instanceof Function&&i.each.call(l),s.length>=e.length&&i.all instanceof Function&&i.all.call(s),t(this).unbind("load error")}),a.src=o})},t.fn.imgpreload=function(e){return t.imgpreload(this,e),this},t.fn.imgpreload.defaults={each:null,all:null}}(jQuery),function(t){function e(t){(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")}function i(i,s){this.$element=t(i),this.options=s,this.enabled=!0,e(this.$element)}i.prototype={show:function(){var e=this.getTitle();if(e&&this.enabled){var i=this.tip(),s=this.$element;i.find(".tipsy-inner")[this.options.html?"html":"text"](e),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var n,r=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),a=i[0].offsetWidth,o=i[0].offsetHeight,l="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity,c=t.fn.tipsy.setOrigins(s,!1,!0),h=this.options.margin,u=this.options.smart,d=!0;switch(l.charAt(0)){case"n":n={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-a/2},u&&!isNaN(c.element.top)&&!isNaN(h.element.top)&&c.element.top<h.element.top&&(d=!1,n.top=n.top-(h.element.top-c.element.top)),u&&d&&!isNaN(c.parent.top)&&!isNaN(h.parent.top)&&c.parent.top<h.parent.top&&(n.top=n.top-(h.parent.top-c.parent.top));break;case"s":n={top:r.top-o-this.options.offset,left:r.left+r.width/2-a/2};break;case"e":n={top:r.top+r.height/2-o/2,left:r.left-a-this.options.offset},u&&!isNaN(c.element.right)&&!isNaN(h.element.right)&&c.element.right<h.element.right&&(d=!1,n.left=n.left+(h.element.right-c.element.right)),u&&d&&!isNaN(c.parent.right)&&!isNaN(h.parent.right)&&c.parent.right<h.parent.right&&(n.left=n.left+(h.parent.right-c.parent.right));break;case"w":n={top:r.top+r.height/2-o/2,left:r.left+r.width+this.options.offset},u&&!isNaN(c.element.left)&&!isNaN(h.element.left)&&c.element.left<h.element.left&&(d=!1,n.left=n.left-(h.element.left-c.element.left)),u&&d&&!isNaN(c.parent.left)&&!isNaN(h.parent.left)&&c.parent.left<h.parent.left&&(n.left=n.left-(h.parent.left-c.parent.left))}n.left=0!==this.options.left?n.left+this.options.left:n.left,n.top=0!==this.options.top?n.top+this.options.top:n.top,2==l.length&&(n.left="w"==l.charAt(1)?r.left+r.width/2-15:r.left+r.width/2-a+15),i.css(n).addClass("tipsy-"+l),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},getTitle:function(){var t,i=this.$element,s=this.options;e(i);var t,s=this.options;return"string"==typeof s.title?t=i.attr("title"==s.title?"original-title":s.title):"function"==typeof s.title&&(t=s.title.call(i[0])),t=(""+t).replace(/(^\s*|\s*$)/,""),t||s.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"/></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){function s(s){var n=t.data(s,"tipsy");return n||(n=new i(s,t.fn.tipsy.elementOptions(s,e)),n.options=t.fn.tipsy.setOrigins(s,n.options),t.data(s,"tipsy",n)),n}function n(){var t=s(this);t.hoverState="in",0==e.delayIn?t.show():setTimeout(function(){"in"==t.hoverState&&t.show()},e.delayIn)}function r(){var t=s(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},e.delayOut)}if(e===!0)return this.data("tipsy");if("string"==typeof e)return this.data("tipsy")[e]();if(e=t.extend({},t.fn.tipsy.defaults,e),e.live||this.each(function(){s(this)}),"manual"!=e.trigger){var a=(e.live?"live":"bind","hover"==e.trigger?"mouseenter":"focus"),o="hover"==e.trigger?"mouseleave":"blur";e.live?t(document).on(a,this.selector,n).on(o,this.selector,r):this.bind(a,n).bind(o,r)}return"tip"===e?this.$tip:this},t.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover",top:0,left:0,smart:!0},t.fn.tipsy.setOrigins=function(e,i,s){var n=function(){var i=t(e),s=i.parent();return i.is("a")&&s.is("li")&&i.parents("ul").hasClass("rr")&&(s=i.parents("ul:first").parent()),{parent:{top:parseInt(s.css("margin-top").replace("px","")),right:parseInt(s.css("margin-right").replace("px","")),bottom:parseInt(s.css("margin-bottom").replace("px","")),left:parseInt(s.css("margin-left").replace("px",""))},element:{top:parseInt(i.css("margin-top").replace("px","")),right:parseInt(i.css("margin-right").replace("px","")),bottom:parseInt(i.css("margin-bottom").replace("px","")),left:parseInt(i.css("margin-left").replace("px",""))}}};return 1==s?n():t.extend({margin:n()},i)},t.fn.tipsy.elementOptions=function(e,i){return t.metadata?t.extend({},i,t(e).metadata()):i},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"}}(jQuery),function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,s,n,r,a;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),r=t.childNodes,a=[],s=0,n=r.length;n>s;s++)i=r[s],a.push(this.add_option(i,e,t.disabled));return a},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),t.select_to_array=function(e){var i,s,n,r,a;for(s=new t,a=e.childNodes,n=0,r=a.length;r>n;n++)i=a[n],s.add_node(i);return s.parsed},this.SelectParser=t}.call(this),function(){var t,e;e=this,t=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.result_add_option=function(t){var e,i;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+i+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,i;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*t.length),e=t.substring(i,i+1)},t.prototype.container_width=function(){var t;return null!=this.options.width?this.options.width:(t=null!=window.getComputedStyle?parseFloat(window.getComputedStyle(this.form_field).getPropertyValue("width")):"undefined"!=typeof jQuery&&null!==jQuery&&null!=this.form_field_jq?this.form_field_jq.outerWidth():this.form_field.getWidth(),t+"px")},t.browser_is_supported=function(){var t;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(t=document.documentMode)&&t>=8:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),e.AbstractChosen=t}.call(this),function(){var t,e,i,s={}.hasOwnProperty,n=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};i=this,t=jQuery,t.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var s;return s=t(this),s.hasClass("chzn-done")?void 0:s.data("chosen",new e(this,i))}):this}}),e=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return n(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},s.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},s.prototype.set_up_html=function(){var e,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",e=["chzn-container"],e.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),i={id:this.container_id,"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})
},s.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){t.container_mousedown(e)}),this.container.mouseup(function(e){t.container_mouseup(e)}),this.container.mouseenter(function(e){t.mouse_enter(e)}),this.container.mouseleave(function(e){t.mouse_leave(e)}),this.search_results.mouseup(function(e){t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel DOMMouseScroll",function(e){t.search_results_mousewheel(e)}),this.form_field_jq.bind("liszt:updated",function(e){t.results_update_field(e)}),this.form_field_jq.bind("liszt:activate",function(e){t.activate_field(e)}),this.form_field_jq.bind("liszt:open",function(e){t.container_mousedown(e)}),this.search_field.blur(function(e){t.input_blur(e)}),this.search_field.keyup(function(e){t.keyup_checker(e)}),this.search_field.keydown(function(e){t.keydown_checker(e)}),this.search_field.focus(function(e){t.input_focus(e)}),this.is_multiple?this.search_choices.click(function(e){t.choices_click(e)}):this.container.click(function(t){t.preventDefault()})},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},s.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?!this.is_multiple&&e&&(t(e.target)[0]===this.selected_item[0]||t(e.target).parents("a.chzn-single").length)&&(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e,i,s;return e=-(null!=(i=t.originalEvent)?i.wheelDelta:void 0)||(null!=(s=t.originialEvent)?s.detail:void 0),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){var t,e,s,n,r;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",r=this.results_data,s=0,n=r.length;n>s;s++)e=r[s],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},s.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},s.prototype.result_do_highlight=function(t){var e,i,s,n,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),n=s+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=n)return this.search_results.scrollTop(e-s>0?e-s:0);if(r>i)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){if(null!=this.result_single_selected)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},s.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},s.prototype.set_tab_index=function(){var t;return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)):void 0},s.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for="+this.form_field.id+"]")),this.form_field_label.length>0?this.form_field_label.click(function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},s.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(e){var i,s,n,r=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(i=this.container_id+"_c_"+e.array_index,this.choices+=1,s=e.disabled?'<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+e.html+"</span></li>":'<li class="search-choice" id="'+i+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>',this.search_container.before(s),n=t("#"+i).find("a").first(),n.click(function(t){return r.choice_destroy_link_click(t)}))},s.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){return this.result_deselect(t.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,i,s,n;return this.result_highlight?(e=this.result_highlight,i=e.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),n=i.substr(i.lastIndexOf("_")+1),s=this.results_data[n],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.is_multiple?this.choice_build(s):(this.selected_item.find("span").first().text(s.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!t.metaKey&&!t.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale()):void 0},s.prototype.result_activate=function(t){return t.addClass("active-result")},s.prototype.result_deactivate=function(t){return t.removeClass("active-result")},s.prototype.result_deselect=function(e){var i,s;return s=this.results_data[e],this.form_field.options[s.options_index].disabled?!1:(s.selected=!1,this.form_field.options[s.options_index].selected=!1,i=t("#"+this.container_id+"_o_"+e),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[s.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},s.prototype.winnow_results=function(){var e,i,s,n,r,a,o,l,c,h,u,d,p,f,_,m,g,v;for(this.no_results_clear(),c=0,h=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),a=this.search_contains?"":"^",r=new RegExp(a+h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),v=this.results_data,f=0,m=v.length;m>f;f++)if(i=v[f],!i.disabled&&!i.empty)if(i.group)t("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(e=!1,l=i.dom_id,o=t("#"+l),r.test(i.html))e=!0,c+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(n=i.html.replace(/\[|\]/g,"").split(" "),n.length))for(_=0,g=n.length;g>_;_++)s=n[_],r.test(s)&&(e=!0,c+=1);e?(h.length?(u=i.html.search(p),d=i.html.substr(0,u+h.length)+"</em>"+i.html.substr(u+h.length),d=d.substr(0,u)+"<em>"+d.substr(u)):d=i.html,o.html(d),this.result_activate(o),null!=i.group_array_index&&t("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(o))}return 1>c&&h.length?this.no_results(h):this.winnow_results_set_highlight()},s.prototype.winnow_results_clear=function(){var e,i,s,n,r;for(this.search_field.val(""),i=this.search_results.find("li"),r=[],s=0,n=i.length;n>s;s++)e=i[s],e=t(e),e.hasClass("group-result")?r.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?r.push(void 0):r.push(this.result_activate(e));return r},s.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null==t)?void 0:this.result_do_highlight(t)},s.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,i,s,n,r,a,o,l;if(this.is_multiple){for(i=0,a=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],o=0,l=r.length;l>o;o++)s=r[o],n+=s+":"+this.search_field.css(s)+";";return e=t("<div />",{style:n}),e.text(this.search_field.val()),t("body").append(e),a=e.width()+25,e.remove(),this.f_width||(this.f_width=this.container.outerWidth()),a>this.f_width-10&&(a=this.f_width-10),this.search_field.css({width:a+"px"})}},s.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},s}(AbstractChosen),i.Chosen=e}.call(this),function(){var t,e;jQuery.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=jQuery.uaMatch(navigator.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),jQuery.browser=e,jQuery.sub=function(){function t(e,i){return new t.fn.init(e,i)}jQuery.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,s){return s&&s instanceof jQuery&&!(s instanceof t)&&(s=t(s)),jQuery.fn.init.call(this,i,s,e)},t.fn.init.prototype=t.fn;var e=t(document);return t}}(),$.fn.onScreen=function(){var t=$(window),e={top:t.scrollTop(),left:t.scrollLeft()},i=$(this),s=i.offset();return e.right=e.left+t.width(),e.bottom=e.top+t.height(),s.right=s.left+i.outerWidth(),s.bottom=s.top+i.outerHeight(),!(e.right<s.left||e.left>s.right||e.bottom<s.top||e.top>s.bottom)},"undefined"==typeof lang&&(lang=function(){}),$(function(){$(document).on("theme_is_ready",function(){var t=$(".tabbed");t.length>0&&t.each(function(){var t=$(this),e=t.find(".tabs-nav");e.removeClass("loading"),t.tabs()})})}),$(function(){$(document).on("theme_is_ready",function(){var t=$("[rel^=dialog], .dialog"),e=$("#dialogs-container"),i=lang("dialogs.cancel_button")?lang("dialogs.cancel_button"):"Cancel";t.length>0&&t.each(function(){var t=$(this),s=t.attr("rel")?t.attr("rel").split(" "):[],n=e.find(t.attr("data-target")),r=550,a=!1,o=!0,l=!1,c=!0,h=!1,u=!1,d={},p={};0!==n.length&&(s.forEach(function(t){t.match(/width/gi)&&(r=t.match(/\:([\-0-9]+)/gi)[0].replace(/\:/,"")),t.match(/height/gi)&&(a=t.match(/\:([\-0-9]+)/gi)[0].replace(/\:/,"")),t.match(/cancel-btn/gi)&&(o=t.match(/\:(true|false)/gi)[0].replace(/\:/gi,"")),t.match(/resizable/gi)&&(l=t.match(/\:(true|false)/gi)[0].replace(/\:/gi,"")),t.match(/modal/gi)&&(c=t.match(/\:(true|false)/gi)[0].replace(/\:/gi,"")),t.match(/show/gi)&&(h=t.match(/\:(fade|drop|clip)/gi)[0].replace(/\:/gi,"")),t.match(/hide/gi)&&(u=t.match(/\:(fade|drop|clip)/gi)[0].replace(/\:/gi,""))}),r=parseInt(r),a=parseInt(a),o=o===!0||"string"==typeof o&&"false"!==o.trim().toLowerCase(),l=l===!0||"string"==typeof l&&"false"!==l.trim().toLowerCase(),c=c===!0||"string"==typeof c&&"false"!==c.trim().toLowerCase(),o&&(d[i]=function(){$(this).dialog("close")}),a>0&&(p.height=a),h!==!1&&$.inArray(h,["fade","drop","clip"])>-1&&(p.show=h),u!==!1&&$.inArray(u,["fade","drop","clip"])>-1&&(p.hide=u),"undefined"!=typeof p.show&&"drop"===p.show&&(p.show={effect:"drop",direction:"up"}),"undefined"!=typeof p.hide&&"drop"===p.hide&&(p.hide={effect:"drop",direction:"down"}),n.dialog($.extend({autoOpen:!1,width:r,resizable:l,modal:c,buttons:d},p)),t.click(function(t){n.dialog("open"),t.preventDefault()}))})})}),$(function(){$(document).on("theme_is_ready",function(){var t=$("[rel^=ui-button], .ui-button");t.length>0&&t.each(function(){var t=$(this),e=t.attr("rel")?t.attr("rel").split(" "):[],i="default",s=!1;t.hasClass("skip")||(e.forEach(function(t){-1!==$.inArray(t,["primary","success","info","warning","danger","inverse","error"])&&(i=t),"disabled"==t&&(s=!0)}),i&&t.addClass("ui-button-"+i),t.button({disabled:s}))})})}),$(function(){$(document).on("theme_is_ready",function(){var t=$("select[rel^=chosen], select[rel^=chzn], select.chosen, select.chzn"),e=lang("chosen.no_result")?lang("chosen.no_result"):"No Results Found.";t.length>0&&t.each(function(){var t=$(this),i=t.attr("rel")?t.attr("rel").split(" "):[],s="px",n=!1,r=!1,a=!1,o=!1,l={no_results_text:e};if(!t.hasClass("skip")&&(i.forEach(function(t){-1!==$.inArray(t,["unit:%","unit:px","unit:em"])&&(s=t.replace(/unit\:/,"")),t.match(/width/gi)&&(n=t.match(/\:([\-0-9]+)/gi)[0].replace(/\:/,"")),t.match(/search[\:]/gi)&&(r=t.match(/\:([\-0-9]+)/gi)[0].replace(/\:/,"")),t.match(/deselect/gi)&&(o=t.match(/\:(true|false)/gi)[0].replace(/\:/gi,"")),"disable-search"==t&&(a=!0)}),n=parseInt(n),r=parseInt(r),o=o===!0||"string"==typeof o&&"false"!==o.trim().toLowerCase(),n&&n>0&&(l.width=n+s),r&&r>0&&(l.disable_search_threshold=r),a&&(l.disable_search=a),o&&(l.allow_single_deselect=o),IS_RTL&&t.addClass("chzn-rtl"),t.chosen(l),a)){var c=t.parent().find(".chzn-search");1===c.length&&c.hide()}})})}),$(function(){$(document).on("theme_is_ready",function(){var t=$("[rel^=tooltip], .tooltip");t.length>0&&t.each(function(){var t=$(this),e=t.attr("rel")?t.attr("rel").split(" "):[],i="s",s=!0,n=0,r=0,a=!0;switch(e.forEach(function(t){-1!==$.inArray(t,["top","bottom","left","right"])&&(i=t),t.match(/pos-top/gi)&&(n=t.match(/\:([\-0-9]+)/gi)[0].replace(/\:/,"")),t.match(/pos-left/gi)&&(r=t.match(/\:([\-0-9]+)/gi)[0].replace(/\:/,"")),t.match(/fade/gi)&&(s=t.match(/\:true/gi)),t.match(/smart/gi)&&(a=t.match(/\:true/gi))}),i){default:case"top":i="s";break;case"bottom":i="n";break;case"left":i="e";break;case"right":i="w"}n=parseInt(n),r=parseInt(r),t.tipsy({gravity:i,top:n,left:r,fade:s,smart:a})})})});